"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{628:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var l=r(2676),n=r(5271);function i(e){let{score:t,setScore:r,isGameStarted:i,setIsGameStarted:a}=e,h=(0,n.useRef)(null),o=(0,n.useRef)(),s=(0,n.useRef)({}),[c,u]=(0,n.useState)(!0),d=(0,n.useRef)({x:400,y:300,vx:0,vy:0,width:40,height:40,onGround:!1,surfboardAngle:0}),f=(0,n.useRef)([]),g=(0,n.useRef)([]),w=(0,n.useRef)({points:[],time:0}),x=(0,n.useRef)({lastCoinSpawn:0,lastSharkSpawn:0,cameraX:0,cameraY:0}),b=(0,n.useRef)(null),m=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=new Image;e.src="/avatar.png",e.onload=()=>{b.current=e};let t=new Image;t.src="/sui-logo.svg",t.onload=()=>{m.current=t}},[]);let y=(0,n.useCallback)(()=>{let e=h.current;if(!e)return;let t=[],r=Math.ceil(e.width/20)+10,l=.7*e.height;for(let e=0;e<r;e++)t.push({x:20*e,y:l});w.current.points=t},[]),v=(0,n.useCallback)(e=>{w.current.time+=.001*e,w.current.points.forEach((e,t)=>{let r=.7*h.current.height,l=.02*e.x+w.current.time;e.y=r+30*Math.sin(l)+20*Math.sin(.5*l)})},[]),p=(0,n.useCallback)(e=>{let t=w.current.points;if(t.length<2)return .7*h.current.height;for(let r=0;r<t.length-1;r++)if(e>=t[r].x&&e<=t[r+1].x){let l=(e-t[r].x)/(t[r+1].x-t[r].x);return t[r].y+l*(t[r+1].y-t[r].y)}return .7*h.current.height},[]),S=(0,n.useCallback)(e=>{let t=d.current,r=h.current;(s.current.a||s.current.arrowleft)&&(t.vx=Math.max(t.vx-.5,-8)),(s.current.d||s.current.arrowright)&&(t.vx=Math.min(t.vx+.5,8)),(s.current.w||s.current.arrowup||s.current[" "])&&t.onGround&&(t.vy=-15,t.onGround=!1),t.vy+=.5,t.onGround?t.vx*=.9:t.vx*=.99,t.x+=t.vx,t.y+=t.vy;let l=p(t.x+t.width/2);if(t.y+t.height>=l&&t.vy>=0){t.y=l-t.height,t.vy=0,t.onGround=!0;let e=p(t.x),r=p(t.x+t.width);t.surfboardAngle=.5*Math.atan2(r-e,t.width)}else t.onGround=!1;t.x=Math.max(0,Math.min(r.width-t.width,t.x)),t.y>r.height+100&&(a(!1),u(!0))},[p,a]),k=(0,n.useCallback)(()=>{let e=h.current,t=Date.now();if(t-x.current.lastCoinSpawn>1500){let r=Math.random()*(e.width-40)+20,l=.6*e.height*Math.random()+.3*e.height;f.current.push({x:r,y:l,vx:0,vy:0,width:40,height:40,collected:!1,id:t,rotation:0}),x.current.lastCoinSpawn=t}},[]),j=(0,n.useCallback)(()=>{let e=h.current,t=Date.now();if(t-x.current.lastSharkSpawn>5e3){let r=Math.random()>.5?1:-1,l=r>0?-60:e.width+60,n=.6*e.height+.3*e.height*Math.random();g.current.push({x:l,y:n,vx:3*r,vy:0,width:80,height:40,id:t,direction:r,attackCooldown:0,jumpCooldown:0,isJumping:!1}),x.current.lastSharkSpawn=t}},[]),P=(0,n.useCallback)(e=>{f.current=f.current.filter(t=>{if(t.collected)return!1;t.rotation+=.003*e;let l=d.current,n=t.x+t.width/2-(l.x+l.width/2),i=t.y+t.height/2-(l.y+l.height/2);return!(Math.sqrt(n*n+i*i)<(t.width/2+l.width/2)*.8)||(t.collected=!0,r(e=>e+10),!1)})},[r]),C=(0,n.useCallback)(e=>{let t=h.current,r=d.current;g.current=g.current.filter(l=>{if(l.jumpCooldown-=e,200>Math.abs(l.x-r.x)&&l.jumpCooldown<=0&&!l.isJumping&&(l.vy=-12,l.isJumping=!0,l.jumpCooldown=3e3),l.isJumping){l.vy+=.4,l.y+=l.vy;let e=p(l.x+l.width/2);l.y+l.height>=e&&l.vy>=0&&(l.y=e-l.height,l.vy=0,l.isJumping=!1)}l.x+=l.vx;let n=l.x+l.width/2-(r.x+r.width/2),i=l.y+l.height/2-(r.y+r.height/2);return Math.sqrt(n*n+i*i)<(l.width/2+r.width/2)*.6?(a(!1),u(!0),!1):!(l.x<-150)&&!(l.x>t.width+150)})},[a,p]),M=(0,n.useCallback)(()=>{let e=h.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let r=t.createLinearGradient(0,0,0,e.height);r.addColorStop(0,"#87CEEB"),r.addColorStop(.7,"#4682B4"),r.addColorStop(1,"#191970"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height),t.fillStyle="rgba(255, 255, 255, 0.8)",t.beginPath(),t.arc(100,80,30,0,2*Math.PI),t.arc(130,80,40,0,2*Math.PI),t.arc(160,80,30,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(e.width-150,120,25,0,2*Math.PI),t.arc(e.width-120,120,35,0,2*Math.PI),t.arc(e.width-90,120,25,0,2*Math.PI),t.fill();let l=w.current.points;if(l.length>1){let r=t.createLinearGradient(0,l[0].y,0,e.height);r.addColorStop(0,"#20B2AA"),r.addColorStop(1,"#008B8B"),t.fillStyle=r,t.beginPath(),t.moveTo(0,e.height),t.lineTo(l[0].x,l[0].y);for(let e=1;e<l.length;e++)t.lineTo(l[e].x,l[e].y);t.lineTo(e.width,e.height),t.closePath(),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=3,t.beginPath(),t.moveTo(l[0].x,l[0].y);for(let e=1;e<l.length;e++)t.lineTo(l[e].x,l[e].y);t.stroke()}f.current.forEach(e=>{t.save(),t.translate(e.x+e.width/2,e.y+e.height/2);let r=.6+.4*(Math.sin(e.rotation)+1)/2;if(t.shadowColor="#4DA2FF",t.shadowBlur=15,m.current){t.globalAlpha=r;let l=m.current.width/m.current.height,n=e.width,i=e.height;l>1?i=n/l:n=i*l,t.drawImage(m.current,-n/2,-i/2,n,i)}else{t.globalAlpha=r;let l=e.width/2;t.fillStyle="#4DA2FF",t.beginPath(),t.arc(0,0,l,0,2*Math.PI),t.fill(),t.shadowBlur=0,t.fillStyle="white",t.beginPath(),t.arc(-(.3*l),-(.2*l),.25*l,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(.3*l,-(.2*l),.25*l,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(0,.3*l,.3*l,0,2*Math.PI),t.fill(),t.strokeStyle="#2E5BFF",t.lineWidth=3,t.beginPath(),t.arc(0,0,l,0,2*Math.PI),t.stroke()}t.restore()}),g.current.forEach(e=>{t.save(),t.translate(e.x+e.width/2,e.y+e.height/2),e.direction<0&&t.scale(-1,1),t.fillStyle="#708090",t.fillRect(-40,-15,70,25),t.fillStyle="#696969",t.beginPath(),t.moveTo(30,0),t.lineTo(40,-8),t.lineTo(40,8),t.closePath(),t.fill(),t.fillStyle="#556B2F",t.beginPath(),t.moveTo(-10,-15),t.lineTo(0,-25),t.lineTo(10,-15),t.closePath(),t.fill(),t.fillStyle="#708090",t.beginPath(),t.moveTo(-40,0),t.lineTo(-55,-10),t.lineTo(-50,0),t.lineTo(-55,10),t.closePath(),t.fill(),t.fillStyle="red",t.beginPath(),t.arc(15,-5,3,0,2*Math.PI),t.fill(),t.fillStyle="white";for(let e=0;e<5;e++)t.beginPath(),t.moveTo(25+3*e,3),t.lineTo(26+3*e,8),t.lineTo(27+3*e,3),t.closePath(),t.fill();t.restore()});let n=d.current;t.save(),t.translate(n.x+n.width/2,n.y+n.height/2),t.save(),t.rotate(n.surfboardAngle),t.fillStyle="#FFD700",t.fillRect(-30,15,60,8),t.strokeStyle="#FFA500",t.lineWidth=2,t.strokeRect(-30,15,60,8),t.fillStyle="#FF6347",t.fillRect(-25,16,10,6),t.fillRect(-5,16,10,6),t.fillRect(15,16,10,6),t.restore(),b.current?t.drawImage(b.current,-n.width/2,-n.height/2,n.width,n.height):(t.fillStyle="#4682B4",t.beginPath(),t.arc(0,0,n.width/2,0,2*Math.PI),t.fill(),t.strokeStyle="#191970",t.lineWidth=3,t.stroke(),t.fillStyle="white",t.beginPath(),t.arc(-8,-8,4,0,2*Math.PI),t.arc(8,-8,4,0,2*Math.PI),t.fill(),t.fillStyle="black",t.beginPath(),t.arc(-8,-8,2,0,2*Math.PI),t.arc(8,-8,2,0,2*Math.PI),t.fill()),t.restore()},[]),N=(0,n.useCallback)(e=>{i&&(v(16),S(16),k(),j(),P(16),C(16),M(),o.current=requestAnimationFrame(N))},[i,v,S,k,j,P,C,M]);return(0,n.useEffect)(()=>{let e=e=>{s.current[e.key.toLowerCase()]=!0,e.preventDefault()},t=e=>{s.current[e.key.toLowerCase()]=!1,e.preventDefault()};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,n.useEffect)(()=>{let e=h.current;if(!e)return;let t=()=>{e.width=window.innerWidth,e.height=window.innerHeight,y()};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[y]),(0,n.useEffect)(()=>(i?(y(),o.current=requestAnimationFrame(N)):o.current&&cancelAnimationFrame(o.current),()=>{o.current&&cancelAnimationFrame(o.current)}),[i,N,y]),(0,l.jsxs)("div",{className:"relative w-full h-full",children:[(0,l.jsx)("canvas",{ref:h,className:"absolute inset-0 w-full h-full",style:{background:"linear-gradient(to bottom, #87CEEB, #4682B4)"}}),(0,l.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-4 left-4 pointer-events-auto",children:(0,l.jsx)("div",{className:"bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg font-bold text-xl",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full"})}),(0,l.jsxs)("span",{children:["SUI: ",t]})]})})}),c&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center pointer-events-auto",children:(0,l.jsxs)("div",{className:"bg-black bg-opacity-70 text-white p-8 rounded-lg max-w-md text-center",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4 text-blue-400",children:"Surf On Sui"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-lg overflow-hidden",children:(0,l.jsx)("img",{src:"/avatar.png",alt:"SealFi Bro",className:"w-full h-full object-cover"})}),(0,l.jsx)("p",{className:"text-lg mb-2",children:"Help SealFi Bro surf the blockchain waves!"})]}),(0,l.jsxs)("div",{className:"text-left mb-6 space-y-2",children:[(0,l.jsx)("p",{children:(0,l.jsx)("span",{className:"font-bold",children:"Controls:"})}),(0,l.jsxs)("p",{children:["• Use ",(0,l.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"A/D"})," or arrow keys to move"]}),(0,l.jsxs)("p",{children:["• Use ",(0,l.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"W"})," or ",(0,l.jsx)("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"Space"})," to jump"]}),(0,l.jsxs)("p",{children:["• Collect ",(0,l.jsx)("span",{className:"text-blue-400",children:"SUI tokens"})," for points"]}),(0,l.jsx)("p",{children:"• Avoid the sharks!"}),(0,l.jsx)("p",{children:"• Surf the waves and stay alive!"})]}),(0,l.jsx)("button",{onClick:()=>{a(!0),u(!1),r(0),f.current=[],g.current=[];let e=h.current;d.current={x:e.width/2-20,y:e.height/2,vx:0,vy:0,width:40,height:40,onGround:!1,surfboardAngle:0},x.current={lastCoinSpawn:0,lastSharkSpawn:0,cameraX:0,cameraY:0}},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-colors duration-200 shadow-lg",children:"Start Surfing!"})]})}),i&&(0,l.jsx)("div",{className:"absolute bottom-4 right-4 pointer-events-auto",children:(0,l.jsx)("button",{onClick:()=>{a(!1),u(!0),r(0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200",children:"\uD83D\uDD04 Restart"})})]})]})}}}]);