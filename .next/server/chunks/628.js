"use strict";exports.id=628,exports.ids=[628],exports.modules={628:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var l=r(997),i=r(689);function n({score:e,setScore:t,isGameStarted:r,setIsGameStarted:n}){let a=(0,i.useRef)(null),o=(0,i.useRef)(),h=(0,i.useRef)({}),[s,c]=(0,i.useState)(!0),d=(0,i.useRef)({x:400,y:300,vx:0,vy:0,width:40,height:40,onGround:!1,surfboardAngle:0}),u=(0,i.useRef)([]),f=(0,i.useRef)([]),g=(0,i.useRef)({points:[],time:0}),x=(0,i.useRef)({lastCoinSpawn:0,lastSharkSpawn:0,cameraX:0,cameraY:0}),w=(0,i.useRef)(null),b=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=new Image;e.src="/avatar.png",e.onload=()=>{w.current=e};let t=new Image;t.src="/sui-logo.svg",t.onload=()=>{b.current=t}},[]);let m=(0,i.useCallback)(()=>{let e=a.current;if(!e)return;let t=[],r=Math.ceil(e.width/20)+10,l=.7*e.height;for(let e=0;e<r;e++)t.push({x:20*e,y:l});g.current.points=t},[]),y=(0,i.useCallback)(e=>{g.current.time+=.001*e,g.current.points.forEach((e,t)=>{let r=.7*a.current.height,l=.02*e.x+g.current.time;e.y=r+30*Math.sin(l)+20*Math.sin(.5*l)})},[]),p=(0,i.useCallback)(e=>{let t=g.current.points;if(t.length<2)return .7*a.current.height;for(let r=0;r<t.length-1;r++)if(e>=t[r].x&&e<=t[r+1].x){let l=(e-t[r].x)/(t[r+1].x-t[r].x);return t[r].y+l*(t[r+1].y-t[r].y)}return .7*a.current.height},[]),v=(0,i.useCallback)(e=>{let t=d.current,r=a.current;(h.current.a||h.current.arrowleft)&&(t.vx=Math.max(t.vx-.5,-8)),(h.current.d||h.current.arrowright)&&(t.vx=Math.min(t.vx+.5,8)),(h.current.w||h.current.arrowup||h.current[" "])&&t.onGround&&(t.vy=-15,t.onGround=!1),t.vy+=.5,t.onGround?t.vx*=.9:t.vx*=.99,t.x+=t.vx,t.y+=t.vy;let l=p(t.x+t.width/2);if(t.y+t.height>=l&&t.vy>=0){t.y=l-t.height,t.vy=0,t.onGround=!0;let e=p(t.x),r=p(t.x+t.width);t.surfboardAngle=.5*Math.atan2(r-e,t.width)}else t.onGround=!1;t.x=Math.max(0,Math.min(r.width-t.width,t.x)),t.y>r.height+100&&(n(!1),c(!0))},[p,n]),S=(0,i.useCallback)(()=>{let e=a.current,t=Date.now();if(t-x.current.lastCoinSpawn>1500){let r=Math.random()*(e.width-40)+20,l=.6*e.height*Math.random()+.3*e.height;u.current.push({x:r,y:l,vx:0,vy:0,width:40,height:40,collected:!1,id:t,rotation:0}),x.current.lastCoinSpawn=t}},[]),k=(0,i.useCallback)(()=>{let e=a.current,t=Date.now();if(t-x.current.lastSharkSpawn>5e3){let r=Math.random()>.5?1:-1,l=r>0?-60:e.width+60,i=.6*e.height+.3*e.height*Math.random();f.current.push({x:l,y:i,vx:3*r,vy:0,width:80,height:40,id:t,direction:r,attackCooldown:0,jumpCooldown:0,isJumping:!1}),x.current.lastSharkSpawn=t}},[]),j=(0,i.useCallback)(e=>{u.current=u.current.filter(r=>{if(r.collected)return!1;r.rotation+=.003*e;let l=d.current,i=r.x+r.width/2-(l.x+l.width/2),n=r.y+r.height/2-(l.y+l.height/2);return!(Math.sqrt(i*i+n*n)<(r.width/2+l.width/2)*.8)||(r.collected=!0,t(e=>e+10),!1)})},[t]),P=(0,i.useCallback)(e=>{let t=a.current,r=d.current;f.current=f.current.filter(l=>{if(l.jumpCooldown-=e,200>Math.abs(l.x-r.x)&&l.jumpCooldown<=0&&!l.isJumping&&(l.vy=-12,l.isJumping=!0,l.jumpCooldown=3e3),l.isJumping){l.vy+=.4,l.y+=l.vy;let e=p(l.x+l.width/2);l.y+l.height>=e&&l.vy>=0&&(l.y=e-l.height,l.vy=0,l.isJumping=!1)}l.x+=l.vx;let i=l.x+l.width/2-(r.x+r.width/2),a=l.y+l.height/2-(r.y+r.height/2);return Math.sqrt(i*i+a*a)<(l.width/2+r.width/2)*.6?(n(!1),c(!0),!1):!(l.x<-150)&&!(l.x>t.width+150)})},[n,p]),C=(0,i.useCallback)(()=>{let e=a.current,t=e?.getContext("2d");if(!e||!t)return;let r=t.createLinearGradient(0,0,0,e.height);r.addColorStop(0,"#87CEEB"),r.addColorStop(.7,"#4682B4"),r.addColorStop(1,"#191970"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height),t.fillStyle="rgba(255, 255, 255, 0.8)",t.beginPath(),t.arc(100,80,30,0,2*Math.PI),t.arc(130,80,40,0,2*Math.PI),t.arc(160,80,30,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(e.width-150,120,25,0,2*Math.PI),t.arc(e.width-120,120,35,0,2*Math.PI),t.arc(e.width-90,120,25,0,2*Math.PI),t.fill();let l=g.current.points;if(l.length>1){let r=t.createLinearGradient(0,l[0].y,0,e.height);r.addColorStop(0,"#20B2AA"),r.addColorStop(1,"#008B8B"),t.fillStyle=r,t.beginPath(),t.moveTo(0,e.height),t.lineTo(l[0].x,l[0].y);for(let e=1;e<l.length;e++)t.lineTo(l[e].x,l[e].y);t.lineTo(e.width,e.height),t.closePath(),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=3,t.beginPath(),t.moveTo(l[0].x,l[0].y);for(let e=1;e<l.length;e++)t.lineTo(l[e].x,l[e].y);t.stroke()}u.current.forEach(e=>{t.save(),t.translate(e.x+e.width/2,e.y+e.height/2);let r=.6+.4*(Math.sin(e.rotation)+1)/2;if(t.shadowColor="#4DA2FF",t.shadowBlur=15,b.current){t.globalAlpha=r;let l=b.current.width/b.current.height,i=e.width,n=e.height;l>1?n=i/l:i=n*l,t.drawImage(b.current,-i/2,-n/2,i,n)}else{t.globalAlpha=r;let l=e.width/2;t.fillStyle="#4DA2FF",t.beginPath(),t.arc(0,0,l,0,2*Math.PI),t.fill(),t.shadowBlur=0,t.fillStyle="white",t.beginPath(),t.arc(-(.3*l),-(.2*l),.25*l,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(.3*l,-(.2*l),.25*l,0,2*Math.PI),t.fill(),t.beginPath(),t.arc(0,.3*l,.3*l,0,2*Math.PI),t.fill(),t.strokeStyle="#2E5BFF",t.lineWidth=3,t.beginPath(),t.arc(0,0,l,0,2*Math.PI),t.stroke()}t.restore()}),f.current.forEach(e=>{t.save(),t.translate(e.x+e.width/2,e.y+e.height/2),e.direction<0&&t.scale(-1,1),t.fillStyle="#708090",t.fillRect(-40,-15,70,25),t.fillStyle="#696969",t.beginPath(),t.moveTo(30,0),t.lineTo(40,-8),t.lineTo(40,8),t.closePath(),t.fill(),t.fillStyle="#556B2F",t.beginPath(),t.moveTo(-10,-15),t.lineTo(0,-25),t.lineTo(10,-15),t.closePath(),t.fill(),t.fillStyle="#708090",t.beginPath(),t.moveTo(-40,0),t.lineTo(-55,-10),t.lineTo(-50,0),t.lineTo(-55,10),t.closePath(),t.fill(),t.fillStyle="red",t.beginPath(),t.arc(15,-5,3,0,2*Math.PI),t.fill(),t.fillStyle="white";for(let e=0;e<5;e++)t.beginPath(),t.moveTo(25+3*e,3),t.lineTo(26+3*e,8),t.lineTo(27+3*e,3),t.closePath(),t.fill();t.restore()});let i=d.current;t.save(),t.translate(i.x+i.width/2,i.y+i.height/2),t.save(),t.rotate(i.surfboardAngle),t.fillStyle="#FFD700",t.fillRect(-30,15,60,8),t.strokeStyle="#FFA500",t.lineWidth=2,t.strokeRect(-30,15,60,8),t.fillStyle="#FF6347",t.fillRect(-25,16,10,6),t.fillRect(-5,16,10,6),t.fillRect(15,16,10,6),t.restore(),w.current?t.drawImage(w.current,-i.width/2,-i.height/2,i.width,i.height):(t.fillStyle="#4682B4",t.beginPath(),t.arc(0,0,i.width/2,0,2*Math.PI),t.fill(),t.strokeStyle="#191970",t.lineWidth=3,t.stroke(),t.fillStyle="white",t.beginPath(),t.arc(-8,-8,4,0,2*Math.PI),t.arc(8,-8,4,0,2*Math.PI),t.fill(),t.fillStyle="black",t.beginPath(),t.arc(-8,-8,2,0,2*Math.PI),t.arc(8,-8,2,0,2*Math.PI),t.fill()),t.restore()},[]),M=(0,i.useCallback)(e=>{r&&(y(16),v(16),S(),k(),j(16),P(16),C(),o.current=requestAnimationFrame(M))},[r,y,v,S,k,j,P,C]);return(0,i.useEffect)(()=>{let e=e=>{h.current[e.key.toLowerCase()]=!0,e.preventDefault()},t=e=>{h.current[e.key.toLowerCase()]=!1,e.preventDefault()};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]),(0,i.useEffect)(()=>{let e=a.current;if(!e)return;let t=()=>{e.width=window.innerWidth,e.height=window.innerHeight,m()};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[m]),(0,i.useEffect)(()=>(r?(m(),o.current=requestAnimationFrame(M)):o.current&&cancelAnimationFrame(o.current),()=>{o.current&&cancelAnimationFrame(o.current)}),[r,M,m]),(0,l.jsxs)("div",{className:"relative w-full h-full",children:[l.jsx("canvas",{ref:a,className:"absolute inset-0 w-full h-full",style:{background:"linear-gradient(to bottom, #87CEEB, #4682B4)"}}),(0,l.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute top-4 left-4 pointer-events-auto",children:l.jsx("div",{className:"bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg font-bold text-xl",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),(0,l.jsxs)("span",{children:["SUI: ",e]})]})})}),s&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center pointer-events-auto",children:(0,l.jsxs)("div",{className:"bg-black bg-opacity-70 text-white p-8 rounded-lg max-w-md text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4 text-blue-400",children:"Surf On Sui"}),(0,l.jsxs)("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-lg overflow-hidden",children:l.jsx("img",{src:"/avatar.png",alt:"SealFi Bro",className:"w-full h-full object-cover"})}),l.jsx("p",{className:"text-lg mb-2",children:"Help SealFi Bro surf the blockchain waves!"})]}),(0,l.jsxs)("div",{className:"text-left mb-6 space-y-2",children:[l.jsx("p",{children:l.jsx("span",{className:"font-bold",children:"Controls:"})}),(0,l.jsxs)("p",{children:["• Use ",l.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"A/D"})," or arrow keys to move"]}),(0,l.jsxs)("p",{children:["• Use ",l.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"W"})," or ",l.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded",children:"Space"})," to jump"]}),(0,l.jsxs)("p",{children:["• Collect ",l.jsx("span",{className:"text-blue-400",children:"SUI tokens"})," for points"]}),l.jsx("p",{children:"• Avoid the sharks!"}),l.jsx("p",{children:"• Surf the waves and stay alive!"})]}),l.jsx("button",{onClick:()=>{n(!0),c(!1),t(0),u.current=[],f.current=[];let e=a.current;d.current={x:e.width/2-20,y:e.height/2,vx:0,vy:0,width:40,height:40,onGround:!1,surfboardAngle:0},x.current={lastCoinSpawn:0,lastSharkSpawn:0,cameraX:0,cameraY:0}},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-colors duration-200 shadow-lg",children:"Start Surfing!"})]})}),r&&l.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-auto",children:l.jsx("button",{onClick:()=>{n(!1),c(!0),t(0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200",children:"\uD83D\uDD04 Restart"})})]})]})}}};